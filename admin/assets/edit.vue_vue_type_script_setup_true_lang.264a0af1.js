import{e as M,q as T,f as U,s as D,aW as N,be as j,bf as S,b9 as O,ba as I,o as i,g as c,h as l,w as t,u as a,N as P,O as Z,k as G,m as _,Z as f,y as A,j as F,aY as L,aX as W,aZ as X}from"./.pnpm.adeb4fcc.js";import{a as Y,s as z}from"./model.1937115d.js";import{P as H}from"./index.c77a1531.js";import{f as J}from"./index.32787260.js";const K={class:"edit-popup"},Q=F("div",{class:"form-tips"},"\u6A21\u578B\u540D\u79F0\u4E00\u65E6\u586B\u5199\u65E0\u6CD5\u4FEE\u6539\uFF0C\u8BF7\u8BA4\u771F\u586B\u5199",-1),$=F("div",{class:"form-tips"},"gpt-3.5-turbo\u9ED8\u8BA44096\u3001gpt-4/gpt-4-0314\u9ED8\u8BA48192\u3001gpt-4-32k/gpt-4-32k-0314\u9ED8\u8BA432768",-1),ee={key:0,class:"form-tips"},ue={key:1,class:"form-tips"},ae=F("div",{class:"form-tips"},"\u6570\u503C\u8D8A\u5927\u8D8A\u9760\u524D",-1),de=M({__name:"edit",emits:["success"],setup(le,{expose:v,emit:V}){const m=T("add"),k=U(()=>m.value=="edit"?"\u7F16\u8F91\u6A21\u578B":"\u6DFB\u52A0\u6A21\u578B"),b=D(),g=D(),e=N({id:0,driver:"openai",name:"",alias:"",maxTokens:"4096",chargeMode:"tokens",chargeRate:"10",sort:"100",isDisable:0}),E=[{value:"openai",label:"openai"},{value:"midjourney",label:"midjourney"}],h={driver:[{required:!0,message:"\u8BF7\u9009\u62E9\u9A71\u52A8",trigger:"blur"}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u6A21\u578B\u540D\u79F0",trigger:"blur"}],alias:[{required:!0,message:"\u8BF7\u8F93\u5165\u6A21\u578B\u522B\u540D",trigger:"blur"}],maxTokens:[{required:!0,message:"\u8BF7\u8F93\u5165\u6700\u5927tokens",trigger:"blur"}],chargeMode:[{required:!0,message:"\u8BF7\u9009\u62E9\u8BA1\u8D39\u6A21\u5F0F",trigger:"blur"}],chargeRate:[{required:!0,message:"\u8F93\u5165\u8BA1\u8D39\u500D\u6570",trigger:"blur"}],sort:[{required:!0,message:"\u8F93\u5165\u6392\u5E8F\u6570\u5B57",trigger:"blur"}],isDisable:[{required:!0,message:"\u8BF7\u9009\u62E9\u72B6\u6001",trigger:"blur"}]},y=async s=>{const u=await Y({id:s.id});for(const d in e)u[d]!=null&&u[d]!=null&&(e[d]=u[d])},R=async()=>{var s,u;await((s=b.value)==null?void 0:s.validate()),await z(e),(u=g.value)==null||u.close(),V("success"),J.msgSuccess("\u64CD\u4F5C\u6210\u529F")},C=(s="add")=>{var u;m.value=s,(u=g.value)==null||u.open()},x=()=>{var s;(s=b.value)==null||s.resetFields()};return v({open:C,setFormData:y}),(s,u)=>{const d=j,q=S,r=L,n=W,p=O,B=I,w=X;return i(),c("div",K,[l(H,{ref_key:"popupRef",ref:g,title:a(k),async:!0,width:"550px",onClose:x,onConfirm:R},{default:t(()=>[l(w,{ref_key:"formRef",ref:b,model:a(e),rules:h,"label-width":"100px"},{default:t(()=>[l(r,{label:"\u6A21\u578B\u9A71\u52A8",prop:"driver"},{default:t(()=>[l(q,{disabled:a(m)=="edit",modelValue:a(e).driver,"onUpdate:modelValue":u[0]||(u[0]=o=>a(e).driver=o),class:"w-[100%]"},{default:t(()=>[(i(),c(P,null,Z(E,o=>l(d,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:1},8,["disabled","modelValue"])]),_:1}),l(r,{label:"\u6A21\u578B\u540D\u79F0",prop:"name"},{default:t(()=>[l(n,{disabled:a(m)=="edit",modelValue:a(e).name,"onUpdate:modelValue":u[1]||(u[1]=o=>a(e).name=o),clearable:""},null,8,["disabled","modelValue"]),Q]),_:1}),l(r,{label:"\u6A21\u578B\u522B\u540D",prop:"alias"},{default:t(()=>[l(n,{modelValue:a(e).alias,"onUpdate:modelValue":u[2]||(u[2]=o=>a(e).alias=o),clearable:"",placeholder:"\u5BF9\u5916\u663E\u793A\u540D"},null,8,["modelValue"])]),_:1}),a(e).driver=="openai"?(i(),G(r,{key:0,label:"maxTokens",prop:"maxTokens"},{default:t(()=>[l(n,{modelValue:a(e).maxTokens,"onUpdate:modelValue":u[3]||(u[3]=o=>a(e).maxTokens=o),clearable:"",placeholder:"\u6700\u5927tokens"},null,8,["modelValue"]),$]),_:1})):_("",!0),l(r,{label:"\u8BA1\u8D39\u6A21\u5F0F",prop:"chargeMode"},{default:t(()=>[l(B,{modelValue:a(e).chargeMode,"onUpdate:modelValue":u[4]||(u[4]=o=>a(e).chargeMode=o)},{default:t(()=>[l(p,{label:"times"},{default:t(()=>[f("\u6B21\u6570")]),_:1}),l(p,{disabled:a(e).driver=="midjourney",label:"tokens"},{default:t(()=>[f("tokens")]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1}),l(r,{label:"\u8BA1\u8D39\u500D\u6570",prop:"chargeRate"},{default:t(()=>[l(n,{modelValue:a(e).chargeRate,"onUpdate:modelValue":u[5]||(u[5]=o=>a(e).chargeRate=o),clearable:"",placeholder:""},null,8,["modelValue"]),a(e).chargeMode=="times"?(i(),c("div",ee,"\u6D88\u8017\u79EF\u5206 = \u6B21\u6570 * "+A(a(e).chargeRate),1)):_("",!0),a(e).chargeMode=="tokens"?(i(),c("div",ue,"\u6D88\u8017\u79EF\u5206 = tokens * "+A(a(e).chargeRate),1)):_("",!0)]),_:1}),l(r,{label:"\u5C55\u793A\u987A\u5E8F",prop:"sort"},{default:t(()=>[l(n,{modelValue:a(e).sort,"onUpdate:modelValue":u[6]||(u[6]=o=>a(e).sort=o),clearable:"",placeholder:"\u6570\u503C\u8D8A\u5927\u8D8A\u9760\u524D"},null,8,["modelValue"]),ae]),_:1}),l(r,{label:"\u542F\u7528\u72B6\u6001",prop:"isDisable"},{default:t(()=>[l(B,{modelValue:a(e).isDisable,"onUpdate:modelValue":u[7]||(u[7]=o=>a(e).isDisable=o)},{default:t(()=>[l(p,{label:0},{default:t(()=>[f("\u542F\u7528")]),_:1}),l(p,{label:1},{default:t(()=>[f("\u7981\u7528")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{de as _};
