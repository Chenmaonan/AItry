import{e as x,q as y,f as R,s as f,aW as A,b9 as h,ba as k,o as q,g as P,h as l,w as a,u as t,j as i,Z as _,aX as T,aY as U,aZ as N}from"./.pnpm.adeb4fcc.js";import{a as I,u as S}from"./type.1474d9d2.js";import{P as Z}from"./index.c77a1531.js";import{f as j}from"./index.32787260.js";const G={class:"edit-popup"},W={class:"flex-1"},X={class:"flex-1"},L=x({__name:"edit",emits:["success"],setup(Y,{expose:F,emit:b}){const m=y("add"),g=R(()=>m.value=="edit"?"\u7F16\u8F91\u5206\u7C7B":"\u6DFB\u52A0\u5206\u7C7B"),n=f(),p=f(),u=A({id:0,title:"",desc:"",sort:"100",isDisable:0}),B={title:[{required:!0,message:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D\u79F0",trigger:"blur"}],sort:[{required:!0,message:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F",trigger:"blur"}],desc:[{required:!0,message:"\u8BF7\u8F93\u5165\u5206\u7C7B\u63CF\u8FF0",trigger:"blur"}],isDisable:[{required:!0,message:"\u8BF7\u8F93\u5165\u9009\u62E9\u542F\u7528\u72B6\u6001",trigger:"blur"}]},C=async o=>{const e=await I({id:o.id});for(const s in u)e[s]!=null&&e[s]!=null&&(u[s]=e[s])},V=async()=>{var o,e;await((o=n.value)==null?void 0:o.validate()),await S(u),(e=p.value)==null||e.close(),b("success"),j.msgSuccess("\u64CD\u4F5C\u6210\u529F")},v=(o="add")=>{var e;m.value=o,(e=p.value)==null||e.open()},D=()=>{var o;(o=n.value)==null||o.resetFields()};return F({open:v,setFormData:C}),(o,e)=>{const s=T,d=U,c=h,E=k,w=N;return q(),P("div",G,[l(Z,{ref_key:"popupRef",ref:p,async:!0,title:t(g),width:"550px",onClose:D,onConfirm:V},{default:a(()=>[l(w,{ref_key:"formRef",ref:n,model:t(u),rules:B,"label-width":"100px"},{default:a(()=>[l(d,{label:"\u5206\u7C7B\u540D\u79F0",prop:"title"},{default:a(()=>[l(s,{modelValue:t(u).title,"onUpdate:modelValue":e[0]||(e[0]=r=>t(u).title=r),clearable:"",placeholder:""},null,8,["modelValue"])]),_:1}),l(d,{label:"\u663E\u793A\u987A\u5E8F",prop:"sort"},{default:a(()=>[i("div",W,[i("div",null,[l(s,{modelValue:t(u).sort,"onUpdate:modelValue":e[1]||(e[1]=r=>t(u).sort=r),clearable:"",placeholder:"\u6570\u503C\u8D8A\u5927\u8D8A\u9760\u524D"},null,8,["modelValue"])])])]),_:1}),l(d,{label:"\u542F\u7528\u72B6\u6001",prop:"isDisable"},{default:a(()=>[l(E,{modelValue:t(u).isDisable,"onUpdate:modelValue":e[2]||(e[2]=r=>t(u).isDisable=r)},{default:a(()=>[l(c,{label:0},{default:a(()=>[_("\u542F\u7528")]),_:1}),l(c,{label:1},{default:a(()=>[_("\u7981\u7528")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"\u5206\u7C7B\u63CF\u8FF0",prop:"desc"},{default:a(()=>[i("div",X,[i("div",null,[l(s,{modelValue:t(u).desc,"onUpdate:modelValue":e[3]||(e[3]=r=>t(u).desc=r),rows:4,clearable:"",placeholder:"",type:"textarea"},null,8,["modelValue"])])])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{L as _};
