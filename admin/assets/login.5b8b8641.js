import{e as b,f as E,o as f,g,j as n,N as A,O as q,u as x,y as j,q as V,s as v,aW as z,an as O,aX as P,aY as T,aZ as X,a_ as Y,ab as Z,h as t,w as r,a$ as w,Z as M,S as W,af as G,ad as H,ae as J}from"./.pnpm.adeb4fcc.js";import{u as C,a as Q,c as k,A as B,_ as ee,P as oe,b as te}from"./index.32787260.js";const se="/admin/assets/login_image.3d649106.png",ae={class:"layout-footer"},ne={class:"text-center p-2 text-xs text-tx-secondary max-w-[900px] mx-auto"},ue=["href"],ce=b({__name:"footer",setup(u){const o=C(),l=E(()=>o.config.copyright||[]);return(m,c)=>(f(),g("footer",ae,[n("div",ne,[(f(!0),g(A,null,q(x(l),d=>(f(),g("a",{class:"mx-1 hover:underline",href:d.link,target:"_blank",key:d.name},j(d.name),9,ue))),128))])]))}});function re(u){const o=V(!1);return{isLock:o,lockFn:async(...m)=>{if(!o.value){o.value=!0;try{const c=await u(...m);return o.value=!1,c}catch(c){throw o.value=!1,c}}}}}const S=u=>(H("data-v-88982206"),u=u(),J(),u),le={class:"login flex flex-col"},de={class:"flex-1 flex items-center justify-center"},ie={class:"login-card flex rounded-md"},_e=S(()=>n("div",{class:"flex-1 h-full hidden md:inline-block"},[n("img",{src:se,height:"600",width:"600"})],-1)),pe={class:"login-form bg-body flex flex-col justify-center px-10 py-10 md:w-[400px] w-[375px] flex-none mx-auto"},me=S(()=>n("div",{class:"text-center text-3xl font-medium mb-8"},"\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",-1)),fe={class:"mb-5"},ge=b({__name:"login",setup(u){const o=v(),l=v(),m=C(),c=Q(),d=W(),D=G(),i=V(!1);E(()=>m.config);const s=z({account:"",password:""}),I={account:[{required:!0,message:"\u8BF7\u8F93\u5165\u767B\u5F55\u8D26\u53F7",trigger:["blur"]}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801",trigger:["blur"]}]},L=()=>{var e;if(!s.password)return(e=o.value)==null?void 0:e.focus();h()},h=async()=>{var _;await((_=l.value)==null?void 0:_.validate()),k.set(B,{remember:i.value,account:i.value?s.account:""}),await c.login(s);const{query:{redirect:e}}=d,a=typeof e=="string"?e:oe.INDEX;D.push(a)},{isLock:R,lockFn:K}=re(h);return O(()=>{const e=k.get(B);e!=null&&e.remember&&(i.value=e.remember,s.account=e.account)}),(e,a)=>{const _=ee,F=P,y=T,N=X,U=Y,$=Z;return f(),g("div",le,[n("div",de,[n("div",ie,[_e,n("div",pe,[me,t(N,{ref_key:"formRef",ref:l,model:s,size:"large",rules:I},{default:r(()=>[t(y,{prop:"account"},{default:r(()=>[t(F,{modelValue:s.account,"onUpdate:modelValue":a[0]||(a[0]=p=>s.account=p),placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u8D26\u53F7",onKeyup:w(L,["enter"])},{prepend:r(()=>[t(_,{name:"el-icon-User"})]),_:1},8,["modelValue","onKeyup"])]),_:1}),t(y,{prop:"password"},{default:r(()=>[t(F,{ref_key:"passwordRef",ref:o,modelValue:s.password,"onUpdate:modelValue":a[1]||(a[1]=p=>s.password=p),"show-password":"",placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801",onKeyup:w(h,["enter"])},{prepend:r(()=>[t(_,{name:"el-icon-Lock"})]),_:1},8,["modelValue","onKeyup"])]),_:1})]),_:1},8,["model"]),n("div",fe,[t(U,{modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=p=>i.value=p),label:"\u8BB0\u4F4F\u8D26\u53F7"},null,8,["modelValue"])]),t($,{type:"primary",size:"large",loading:x(R),onClick:x(K)},{default:r(()=>[M(" \u767B\u5F55 ")]),_:1},8,["loading","onClick"])])])]),t(ce)])}}});const Fe=te(ge,[["__scopeId","data-v-88982206"]]);export{Fe as default};
