import{e as N,s as A,f as S,aW as T,b9 as Z,ba as j,bm as G,o as _,g as f,h as o,w as n,u as l,j as t,N as C,Z as c,y as H,C as K,k as L,m as V,aY as M,aX as W,ab as X,aa as Y,aZ as z}from"./.pnpm.adeb4fcc.js";import{_ as J}from"./picker.5ee90a76.js";import{r as g}from"./index.32787260.js";import{P as O}from"./index.c77a1531.js";function Vu(){return g.get({url:"/setting.pay.pay_config/lists"})}function Q(d){return g.post({url:"/setting.pay.pay_config/setConfig",params:d})}function $(d){return g.get({url:"/setting.pay.pay_config/getConfig",params:d})}const uu={class:"edit-popup"},eu=t("span",{class:"form-tips"},"\u5EFA\u8BAE\u5C3A\u5BF8\uFF1A200*200px",-1),ou=t("div",{class:"form-tips"},"\u6682\u65F6\u53EA\u652F\u6301V3\u7248\u672C",-1),lu=t("div",{class:"form-tips"}," \u6682\u65F6\u53EA\u652F\u6301\u666E\u901A\u5546\u6237\u7C7B\u578B\uFF0C\u670D\u52A1\u5546\u6237\u7C7B\u578B\u6A21\u5F0F\u6682\u4E0D\u652F\u6301 ",-1),au={class:"flex-1"},tu=t("div",{class:"form-tips"},"\u5FAE\u4FE1\u652F\u4ED8\u5546\u6237\u53F7\uFF08MCHID\uFF09",-1),nu=t("span",{class:"form-tips"},"\u5FAE\u4FE1\u652F\u4ED8\u5546\u6237API\u5BC6\u94A5\uFF08paySignKey\uFF09",-1),iu=t("span",{class:"form-tips"}," \u5FAE\u4FE1\u652F\u4ED8\u8BC1\u4E66\uFF08apiclient_cert.pem\uFF09\uFF0C\u524D\u5F80\u5FAE\u4FE1\u5546\u5BB6\u5E73\u53F0\u751F\u6210\u5E76\u9ECF\u8D34\u81F3\u6B64\u5904 ",-1),su=t("span",{class:"form-tips"}," \u5FAE\u4FE1\u652F\u4ED8\u8BC1\u4E66\u5BC6\u94A5\uFF08apiclient_key.pem\uFF09\uFF0C\u524D\u5F80\u5FAE\u4FE1\u5546\u5BB6\u5E73\u53F0\u751F\u6210\u5E76\u9ECF\u8D34\u81F3\u6B64\u5904 ",-1),Fu={class:"mr-[20px]"},pu=t("span",{class:"form-tips"}," \u652F\u4ED8\u6388\u6743\u76EE\u5F55\u4EC5\u7528\u4E8E\u53C2\u8003\uFF0C\u590D\u5236\u540E\u524D\u5F80\u5FAE\u4FE1\u5546\u5BB6\u5E73\u53F0\u586B\u5199 ",-1),du=t("div",{class:"form-tips"},"\u6682\u65F6\u4EC5\u652F\u6301\u652F\u4ED8\u5B9D\u666E\u901A\u6A21\u5F0F",-1),ru=t("div",{class:"form-tips"}," \u6682\u65F6\u53EA\u652F\u6301\u666E\u901A\u5546\u6237\u7C7B\u578B\uFF0C\u670D\u52A1\u5546\u6237\u7C7B\u578B\u6A21\u5F0F\u6682\u4E0D\u652F\u6301 ",-1),_u={class:"flex-1"},cu=t("span",{class:"form-tips"}," \u652F\u4ED8\u5B9D\u5E94\u7528APP_ID ",-1),mu={class:"flex-1"},Eu=t("span",{class:"form-tips"},"\u652F\u4ED8\u5B9D\u5E94\u7528\u79C1\u94A5\uFF08private_key\uFF09 ",-1),fu={class:"flex-1"},gu=t("span",{class:"form-tips"},"\u652F\u4ED8\u5B9D\u516C\u94A5\uFF08ali_public_key\uFF09 ",-1),Du=t("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C \u6570\u503C\u8D8A\u5927\u8D8A\u6392\u524D",-1),vu=N({__name:"edit",emits:["success","close"],setup(d,{expose:v,emit:D}){const y=A(),m=A(),E=S(()=>{switch(e.pay_way){case 1:return"\u4F59\u989D\u652F\u4ED8";case 2:return"\u5FAE\u4FE1\u652F\u4ED8";case 3:return"\u652F\u4ED8\u5B9D\u652F\u4ED8"}}),e=T({id:"",pay_way:0,name:"",icon:"",sort:0,remark:"",domain:"",config:{interface_version:"",merchant_type:"",mch_id:"",pay_sign_key:"",apiclient_cert:"",apiclient_key:"",mode:"",app_id:"",private_key:"",ali_public_key:""}}),b={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u663E\u793A\u540D\u79F0"}],"config.mch_id":[{required:!0,message:"\u8BF7\u8F93\u5165\u5FAE\u4FE1\u652F\u4ED8\u5546\u6237\u53F7"}],"config.pay_sign_key":[{required:!0,message:"\u8BF7\u8F93\u5165\u5FAE\u4FE1\u652F\u4ED8\u5546\u6237API\u5BC6\u94A5"}],"config.apiclient_cert":[{required:!0,message:"\u8BF7\u8F93\u5165\u5FAE\u4FE1\u652F\u4ED8\u8BC1\u4E66"}],"config.apiclient_key":[{required:!0,message:"\u8BF7\u8F93\u5165\u5FAE\u4FE1\u652F\u4ED8\u8BC1\u4E66\u5BC6\u94A5"}],"config.app_id":[{required:!0,message:"\u8BF7\u8F93\u5165\u652F\u4ED8\u5B9D\u5E94\u7528ID"}],"config.private_key":[{required:!0,message:"\u8BF7\u8F93\u5165\u652F\u4ED8\u5B9D\u5E94\u7528\u79C1\u94A5"}],"config.ali_public_key":[{required:!0,message:"\u8BF7\u8F93\u5165\u652F\u4ED8\u5B9D\u516C\u94A5"}]},k=async()=>{var s,u;await((s=y.value)==null?void 0:s.validate()),await Q(e),(u=m.value)==null||u.close(),D("success")},h=()=>{var s;(s=m.value)==null||s.open()},B=s=>{for(const u in e)s[u]!=null&&s[u]!=null&&(e[u]=s[u])},w=async s=>{const u=await $({id:s.id});B(u)},x=()=>{D("close")};return v({open:h,setFormData:B,getDetail:w}),(s,u)=>{const p=Z,i=M,F=W,U=J,r=j,I=X,P=Y,q=z,R=G("copy");return _(),f("div",uu,[o(O,{ref_key:"popupRef",ref:m,title:l(E),async:!0,width:"550px",onConfirm:k,onClose:x},{default:n(()=>[o(q,{ref_key:"formRef",ref:y,model:l(e),"label-width":"84px",rules:b},{default:n(()=>[o(i,{label:"\u652F\u4ED8\u65B9\u5F0F"},{default:n(()=>[o(p,{label:l(E),"model-value":l(E)},null,8,["label","model-value"])]),_:1}),o(i,{label:"\u663E\u793A\u540D\u79F0",prop:"name"},{default:n(()=>[o(F,{modelValue:l(e).name,"onUpdate:modelValue":u[0]||(u[0]=a=>l(e).name=a),placeholder:"\u8BF7\u8F93\u5165\u663E\u793A\u540D\u79F0"},null,8,["modelValue"])]),_:1}),o(i,{label:"\u663E\u793A\u56FE\u6807",prop:"image"},{default:n(()=>[t("div",null,[o(U,{limit:1,disabled:!1,modelValue:l(e).icon,"onUpdate:modelValue":u[1]||(u[1]=a=>l(e).icon=a)},null,8,["modelValue"]),eu])]),_:1}),l(e).pay_way==2?(_(),f(C,{key:0},[o(i,{prop:"config.interface_version",label:"\u5FAE\u4FE1\u652F\u4ED8\u63A5\u53E3\u7248\u672C"},{default:n(()=>[t("div",null,[o(r,{modelValue:l(e).config.interface_version,"onUpdate:modelValue":u[2]||(u[2]=a=>l(e).config.interface_version=a)},{default:n(()=>[o(p,{label:"v3"})]),_:1},8,["modelValue"]),ou])]),_:1}),o(i,{label:"\u5546\u6237\u7C7B\u578B",prop:"config.merchant_type"},{default:n(()=>[t("div",null,[o(r,{modelValue:l(e).config.merchant_type,"onUpdate:modelValue":u[3]||(u[3]=a=>l(e).config.merchant_type=a)},{default:n(()=>[o(p,{label:"ordinary_merchant"},{default:n(()=>[c("\u666E\u901A\u5546\u6237")]),_:1})]),_:1},8,["modelValue"]),lu])]),_:1}),o(i,{label:"\u5FAE\u4FE1\u652F\u4ED8\u5546\u6237\u53F7",prop:"config.mch_id"},{default:n(()=>[t("div",au,[o(F,{modelValue:l(e).config.mch_id,"onUpdate:modelValue":u[4]||(u[4]=a=>l(e).config.mch_id=a),placeholder:"\u8BF7\u8F93\u5165\u5FAE\u4FE1\u652F\u4ED8\u5546\u6237\u53F7"},null,8,["modelValue"]),tu])]),_:1}),o(i,{label:"\u5546\u6237API\u5BC6\u94A5",prop:"config.pay_sign_key"},{default:n(()=>[o(F,{modelValue:l(e).config.pay_sign_key,"onUpdate:modelValue":u[5]||(u[5]=a=>l(e).config.pay_sign_key=a),placeholder:"\u8BF7\u8F93\u5165\u5FAE\u4FE1\u652F\u4ED8\u5546\u6237API\u5BC6\u94A5"},null,8,["modelValue"]),nu]),_:1}),o(i,{label:"\u5FAE\u4FE1\u652F\u4ED8\u8BC1\u4E66",prop:"config.apiclient_cert"},{default:n(()=>[o(F,{type:"textarea",rows:"3",modelValue:l(e).config.apiclient_cert,"onUpdate:modelValue":u[6]||(u[6]=a=>l(e).config.apiclient_cert=a),placeholder:"\u8BF7\u8F93\u5165\u5FAE\u4FE1\u652F\u4ED8\u8BC1\u4E66"},null,8,["modelValue"]),iu]),_:1}),o(i,{label:"\u5FAE\u4FE1\u652F\u4ED8\u8BC1\u4E66\u5BC6\u94A5",prop:"config.apiclient_key"},{default:n(()=>[o(F,{type:"textarea",rows:"3",modelValue:l(e).config.apiclient_key,"onUpdate:modelValue":u[7]||(u[7]=a=>l(e).config.apiclient_key=a),placeholder:"\u8BF7\u8F93\u5165\u5FAE\u4FE1\u652F\u4ED8\u8BC1\u4E66\u5BC6\u94A5"},null,8,["modelValue"]),su]),_:1}),o(i,{label:"\u652F\u4ED8\u6388\u6743\u76EE\u5F55"},{default:n(()=>[t("div",null,[t("div",null,[t("span",Fu,H(l(e).domain),1),K((_(),L(I,{link:"",type:"primary"},{default:n(()=>[c(" \u590D\u5236 ")]),_:1})),[[R,l(e).domain]])]),pu])]),_:1})],64)):V("",!0),l(e).pay_way==3?(_(),f(C,{key:1},[o(i,{label:"\u6A21\u5F0F",prop:"config.mode"},{default:n(()=>[t("div",null,[o(r,{modelValue:l(e).config.mode,"onUpdate:modelValue":u[8]||(u[8]=a=>l(e).config.mode=a)},{default:n(()=>[o(p,{label:"normal_mode"},{default:n(()=>[c("\u666E\u901A\u6A21\u5F0F")]),_:1})]),_:1},8,["modelValue"]),du])]),_:1}),o(i,{label:"\u5546\u6237\u7C7B\u578B",prop:"config.merchant_type"},{default:n(()=>[t("div",null,[o(r,{modelValue:l(e).config.merchant_type,"onUpdate:modelValue":u[9]||(u[9]=a=>l(e).config.merchant_type=a)},{default:n(()=>[o(p,{label:"ordinary_merchant"},{default:n(()=>[c("\u666E\u901A\u5546\u6237")]),_:1})]),_:1},8,["modelValue"]),ru])]),_:1}),o(i,{label:"\u5E94\u7528ID",prop:"config.app_id"},{default:n(()=>[t("div",_u,[o(F,{modelValue:l(e).config.app_id,"onUpdate:modelValue":u[10]||(u[10]=a=>l(e).config.app_id=a),placeholder:"\u8BF7\u8F93\u5165\u652F\u4ED8\u5B9D\u5E94\u7528ID"},null,8,["modelValue"]),cu])]),_:1}),o(i,{label:"\u5E94\u7528\u79C1\u94A5",prop:"config.private_key"},{default:n(()=>[t("div",mu,[o(F,{type:"textarea",rows:"3",modelValue:l(e).config.private_key,"onUpdate:modelValue":u[11]||(u[11]=a=>l(e).config.private_key=a),placeholder:"\u8BF7\u8F93\u5165\u652F\u4ED8\u5B9D\u5E94\u7528\u79C1\u94A5"},null,8,["modelValue"]),Eu])]),_:1}),o(i,{label:"\u652F\u4ED8\u5B9D\u516C\u94A5",prop:"config.ali_public_key"},{default:n(()=>[t("div",fu,[o(F,{type:"textarea",rows:"3",modelValue:l(e).config.ali_public_key,"onUpdate:modelValue":u[12]||(u[12]=a=>l(e).config.ali_public_key=a),placeholder:"\u8BF7\u8F93\u5165\u652F\u4ED8\u5B9D\u516C\u94A5"},null,8,["modelValue"]),gu])]),_:1})],64)):V("",!0),o(i,{label:"\u6392\u5E8F",prop:"sort"},{default:n(()=>[t("div",null,[o(P,{modelValue:l(e).sort,"onUpdate:modelValue":u[13]||(u[13]=a=>l(e).sort=a),min:0,max:9999},null,8,["modelValue"]),Du])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{vu as _,Vu as g};
